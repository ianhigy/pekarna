<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Super Pek√°rna</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root { --primary:#d4a373; --dark:#2c1a0d; --light:#faf7f2; --accent:#e07a5f; }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Open Sans',sans-serif; background:var(--light); color:var(--dark); min-height:100vh; display:flex; flex-direction:column; }
    header { background:url('super-pekarna.png') center/cover; height:50vh; display:flex; align-items:center; justify-content:center; text-align:center; color:white; }
    .logo { font-family:'Playfair Display',serif; font-size:5.5rem; text-shadow:4px 4px 15px rgba(0,0,0,0.8); display:none; }
    main { flex:1; padding:60px 20px; max-width:1300px; margin:0 auto; width:100%; }
    h2 { text-align:center; font-family:'Playfair Display',serif; font-size:3.2rem; margin-bottom:2rem; color:var(--dark); }
    .products { display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); gap:35px; }
    .card { background:white; border-radius:20px; overflow:hidden; box-shadow:0 12px 40px rgba(0,0,0,0.12); transition:transform 0.4s, box-shadow 0.4s; will-change:transform; }
    .card:hover { transform:translateY(-15px); box-shadow:0 20px 50px rgba(0,0,0,0.18); }
    .card img { width:100%; height:260px; object-fit:cover; background:#f0f0f0; display:block; }
    .card-content { padding:25px; }
    .card h3 { font-family:'Playfair Display',serif; font-size:2rem; margin-bottom:10px; }
    .rating { color:#f1c40f; font-size:1.6rem; letter-spacing:3px; margin:10px 0; }
    .date { color:#999; font-size:0.9rem; margin-top:12px; }
    .empty-message { grid-column:1/-1; text-align:center; padding:60px 20px; background:#fff5f5; border-radius:20px; color:#c0392b; font-size:1.5rem; }
    
    .announcement { position:fixed; top:15px; left:50%; transform:translateX(-50%); background:rgba(255, 245, 230, 0.85); backdrop-filter:blur(10px); border:2px solid var(--primary); border-radius:15px; padding:15px 50px 15px 20px; z-index:1000; text-align:center; font-size:1.05rem; box-shadow:0 4px 15px rgba(212,163,115,0.3); max-width:fit-content; }
    .announcement.hidden { display:none; }
    .close-btn { position:absolute; top:50%; right:15px; transform:translateY(-50%); background:none; border:none; font-size:1.5rem; color:var(--primary); cursor:pointer; font-weight:bold; line-height:1; transition:color 0.3s, transform 0.2s; }
    .close-btn:hover { color:var(--accent); transform:translateY(-50%) scale(1.2); }
    
    body.has-announcement { padding-top:0; }
    
    .contact-title { text-align:center; font-family:'Playfair Display',serif; font-size:2.5rem; margin:80px 0 30px 0; color:var(--dark); }
    .contact-section { padding:40px; background:white; border-radius:20px; box-shadow:0 12px 40px rgba(0,0,0,0.12); text-align:center; width:100%; max-width:600px; margin:0 auto; }
    .form-wrapper { max-width:600px; margin:0 auto; text-align:left; }
    .form-group { margin-bottom:20px; }
    .form-group label { display:block; margin-bottom:8px; font-weight:600; color:var(--dark); }
    .form-group input, .form-group textarea { width:100%; padding:14px; border:2px solid #ddd; border-radius:10px; font-size:1rem; font-family:'Open Sans',sans-serif; transition:border-color 0.3s; }
    .form-group input:focus, .form-group textarea:focus { outline:none; border-color:var(--primary); }
    .form-group textarea { resize:vertical; }
    .submit-btn { width:100%; padding:14px; background:var(--primary); color:white; border:none; border-radius:10px; font-size:1rem; font-weight:bold; cursor:pointer; transition:background 0.3s; }
    .submit-btn:hover { background:var(--accent); }
    .error-msg { color:#c0392b; font-weight:bold; margin-top:10px; padding:10px; background:#ffe6e6; border-radius:8px; display:none; text-align:left; }
    .success-msg { color:#27ae60; font-weight:bold; margin-top:10px; padding:10px; background:#e6ffe6; border-radius:8px; display:none; text-align:left; }
    
    footer { background:var(--dark); color:#eee; text-align:center; padding:30px; font-size:0.95rem; }
    
    @media (prefers-reduced-motion: reduce) {
      .card { transition:none; }
      .card:hover { transform:none; }
    }
  </style>
</head>
<body class="has-announcement">

  <div id="announcement" class="announcement" style="border-color: #d4a373; background: rgba(255, 245, 230, 0.85);">
    <button class="close-btn" onclick="document.getElementById('announcement').classList.add('hidden');" aria-label="Zav≈ô√≠t ozn√°men√≠">‚úï</button>
    üéâ <strong>Novinka:</strong> V√≠tej na na≈°em nov√©m webu!
<!--    üéâ <strong>Novinka:</strong> Stabilnƒõj≈°√≠ podpora! -->
  </div>

  <header>
  </header>

  <main>
    <h2>N√°≈° Protokol</h2>
    
    <div id="productList" class="products"></div>

    <h2 class="contact-title">M√°≈° n√°pad?</h2>
    <div class="contact-section">
      <form class="form-wrapper" id="ideaForm">
        <div class="form-group">
          <label>Jm√©no a p≈ô√≠jmen√≠</label>
          <input type="text" id="name" placeholder="Zadej sv√© jm√©no" required>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="email" placeholder="example@zskuldova.cz" required>
        </div>
        <div class="form-group">
          <label>N√°pad</label>
          <textarea id="idea" placeholder="Jak√Ω m√°≈° n√°pad na nov√© peƒçivo?" rows="5" required></textarea>
        </div>
        <button type="submit" class="submit-btn">Poslat n√°pad</button>
      </form>
      <div id="errorMsg" class="error-msg"></div>
      <div id="successMsg" class="success-msg"></div>
    </div>
  </main>

  <footer>
    <p>¬© 2025 Super Pek√°rna ‚Äì Vytvo≈ôeno s l√°skou a moukou Haluz√°kem</p>
  </footer>

  <script>
    const defaultImage = 'neco_se_nepovedlo.png';

    const products = [
      {
        name: "Pern√≠ƒçky",
        description: "3. Pokus",
        image: "pernicky.webp",
        rating: 5,
        ingredients: "Mouka, Cukr, Vaj√≠ƒçka, Pern√≠ƒçkov√© ko≈ôen√≠, Kakao, Ml√©ko, Kyp≈ô√≠c√≠ pr√°≈°ek",
        created: "2025-11-26"
     },
     {
        name: "Muffiny",
        description: "2. Pokus, ale obr√°zek je z 1. pokusu",
        image: "muffiny.webp",
        rating: 4,
        ingredients: "Mouka, Cukr, Vaj√≠ƒçka, ƒåokol√°da, Kakao",
        created: "2025-11-10"
      },
      {
        name: "Pusinky",
        description: "",
        image: "pusinky.webp",
        rating: 3,
        ingredients: "B√≠lek z vaj√≠ƒçka, Cukr",
        created: "Nezn√°m√©"
     },
     {
        name: "Jableƒçn√Ω kol√°ƒç",
        description: "",
        image: "jablecny_kolac.webp",
        rating: 2,
        ingredients: "Mouka, Vaj√≠ƒçka, Cukr, Jablka a jin√© ovoce",
        created: "Nezn√°m√©"
      },
      {
        name: "Tyramisu",
        description: "2. Pokus",
        image: "",
        rating: 2,
        ingredients: "Ml√©ko, Tvaroh, pi≈°koty, kakao",
        created: "Nezn√°m√©"
      },
      {
        name: "≈†vestkov√Ω kol√°ƒç",
        description: "",
        image: "svestkovy_kolac.webp",
        rating: 3,
        ingredients: "Mouka, Vaj√≠ƒçka, Cukr, ≈†vestky a jin√© ovoce",
        created: "Nezn√°m√©"
      },
      {
        name: "M&M¬¥s Chl√©b",
        description: "",
        image: "mams_chleb.webp",
        rating: 0,
        ingredients: "Mouka, Vaj√≠ƒçka, Cukr, Bonb√≥ny M&M¬¥s",
        created: "Nezn√°m√©"
      }
         ];

    function loadProducts() {
      const list = document.getElementById("productList");
      
      if (!products || products.length === 0) {
        list.innerHTML = '<div class="empty-message"><h3>Zat√≠m zde nen√≠ ≈æ√°dn√© peƒçivo</h3><p>P≈ôidej peƒçivo do pole products v k√≥du!</p></div>';
        return;
      }

      const sortedProducts = [...products].sort((a,b) => new Date(b.created) - new Date(a.created));

      const fragment = document.createDocumentFragment();
      
      sortedProducts.forEach(p => {
        const card = document.createElement('div');
        card.className = 'card';
        
        const imgSrc = p.image || defaultImage;
        
        const dateText = p.created === "Nezn√°m√©" || !p.created || isNaN(new Date(p.created).getTime())
          ? "Nezn√°m√©"
          : new Date(p.created).toLocaleDateString("cs-CZ");
        
        card.innerHTML = `
          <img src="${imgSrc}" alt="${p.name}" loading="lazy">
          <div class="card-content">
            <h3>${p.name}</h3>
            <p>${p.description}</p>
            <div class="rating">${"‚≠ê".repeat(p.rating)}${"‚òÜ".repeat(5-p.rating)}</div>
            <div class="ingredients"><strong>Ingredience:</strong> ${p.ingredients}</div>
            <div class="date">P≈ôid√°no: ${dateText}</div>
          </div>
        `;
        
        fragment.appendChild(card);
      });
      
      list.appendChild(fragment);
    }

    document.getElementById("ideaForm").addEventListener("submit", function(e) {
      e.preventDefault();
      
      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const idea = document.getElementById("idea").value.trim();
      const errorMsg = document.getElementById("errorMsg");
      const successMsg = document.getElementById("successMsg");

      errorMsg.style.display = "none";
      successMsg.style.display = "none";

      if (!email.endsWith("@zskuldova.cz")) {
        errorMsg.innerHTML = "Email mus√≠ b√Ωt ≈°koln√≠ - pou≈æij form√°t example@zskuldova.cz";
        errorMsg.style.display = "block";
        return;
      }

      successMsg.innerHTML = `D√≠ky ${name}! Tv≈Øj n√°pad "${idea}" jsme zaznamenali.`;
      successMsg.style.display = "block";
      
      document.getElementById("ideaForm").reset();
      
      console.log("Nov√Ω n√°pad:", { name, email, idea, created: new Date().toISOString() });
    });

    loadProducts();
  </script>
</body>
</html>
