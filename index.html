<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Super Pek√°rna - V√°noƒçn√≠ edice</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root { --primary:#d4a373; --dark:#2c1a0d; --light:#faf7f2; --accent:#e07a5f; --christmas-red:#c41e3a; --christmas-green:#165b33; --christmas-gold:#ffd700; }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Open Sans',sans-serif; background:linear-gradient(135deg, #faf7f2 0%, #f0e6d8 100%); color:var(--dark); min-height:100vh; display:flex; flex-direction:column; position:relative; overflow-x:hidden; }
    
    /* V√°noƒçn√≠ pozad√≠ s vloƒçkami */
    body::before { content:''; position:fixed; top:0; left:0; width:100%; height:100%; background-image: radial-gradient(2px 2px at 20% 30%, white, transparent), radial-gradient(2px 2px at 60% 70%, white, transparent), radial-gradient(1px 1px at 50% 50%, white, transparent); background-size: 200px 200px, 250px 250px, 300px 300px; background-position: 0 0, 40px 60px, 130px 270px; opacity:0.3; pointer-events:none; z-index:0; }
    
    header { background:linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('super-pekarna.png') center/cover; height:50vh; display:flex; align-items:center; justify-content:center; text-align:center; color:white; position:relative; box-shadow:0 4px 20px rgba(0,0,0,0.2); }
    
    /* V√°noƒçn√≠ girlanda */
    .garland { position:absolute; top:0; left:0; width:100%; height:60px; background:repeating-linear-gradient(90deg, var(--christmas-red) 0px, var(--christmas-red) 40px, var(--christmas-green) 40px, var(--christmas-green) 80px, var(--christmas-gold) 80px, var(--christmas-gold) 120px); opacity:0.8; clip-path:polygon(0 0, 5% 100%, 10% 0, 15% 100%, 20% 0, 25% 100%, 30% 0, 35% 100%, 40% 0, 45% 100%, 50% 0, 55% 100%, 60% 0, 65% 100%, 70% 0, 75% 100%, 80% 0, 85% 100%, 90% 0, 95% 100%, 100% 0); animation:garlandTwinkle 2s ease-in-out infinite; }
    
    @keyframes garlandTwinkle { 0%, 100% { opacity:0.8; } 50% { opacity:1; } }
    
    /* V√°noƒçn√≠ ozdoby na kart√°ch */
    .card { background:white; border-radius:20px; overflow:hidden; box-shadow:0 12px 40px rgba(0,0,0,0.12); transition:transform 0.4s, box-shadow 0.4s; will-change:transform; position:relative; border:3px solid transparent; }
    .card:hover { transform:translateY(-15px) scale(1.02); box-shadow:0 20px 50px rgba(196,30,58,0.3); border-color:var(--christmas-red); }
    .card::before { content:'üéÑ'; position:absolute; top:10px; right:10px; font-size:2rem; z-index:10; animation:ornamentSway 3s ease-in-out infinite; }
    
    @keyframes ornamentSway { 0%, 100% { transform:rotate(0deg); } 50% { transform:rotate(10deg); } }
    
    .logo { font-family:'Playfair Display',serif; font-size:5.5rem; text-shadow:4px 4px 15px rgba(0,0,0,0.8); display:none; }
    main { flex:1; padding:60px 20px; max-width:1300px; margin:0 auto; width:100%; position:relative; z-index:1; }
    h2 { text-align:center; font-family:'Playfair Display',serif; font-size:3.2rem; margin-bottom:2rem; color:var(--christmas-red); text-shadow:2px 2px 4px rgba(0,0,0,0.1); }
    .products { display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); gap:35px; }
    .card img { width:100%; height:260px; object-fit:cover; background:#f0f0f0; display:block; }
    .card-content { padding:25px; }
    .card h3 { font-family:'Playfair Display',serif; font-size:2rem; margin-bottom:10px; color:var(--christmas-green); }
    .rating { color:var(--christmas-gold); font-size:1.6rem; letter-spacing:3px; margin:10px 0; text-shadow:1px 1px 2px rgba(0,0,0,0.2); }
    .date { color:#999; font-size:0.9rem; margin-top:12px; }
    .empty-message { grid-column:1/-1; text-align:center; padding:60px 20px; background:#fff5f5; border-radius:20px; color:#c0392b; font-size:1.5rem; }
    
    .announcement { position:fixed; top:15px; left:50%; transform:translateX(-50%); background:linear-gradient(135deg, rgba(196,30,58,0.95), rgba(22,91,51,0.95)); backdrop-filter:blur(10px); border:3px solid var(--christmas-gold); border-radius:15px; padding:15px 50px 15px 20px; z-index:1000; text-align:center; font-size:1.05rem; box-shadow:0 4px 25px rgba(196,30,58,0.5); max-width:fit-content; color:white; animation:announcementGlow 2s ease-in-out infinite; }
    
    @keyframes announcementGlow { 0%, 100% { box-shadow:0 4px 25px rgba(196,30,58,0.5); } 50% { box-shadow:0 4px 35px rgba(255,215,0,0.8); } }
    
    .announcement.hidden { display:none; }
    .close-btn { position:absolute; top:50%; right:15px; transform:translateY(-50%); background:none; border:none; font-size:1.5rem; color:white; cursor:pointer; font-weight:bold; line-height:1; transition:color 0.3s, transform 0.2s; }
    .close-btn:hover { color:var(--christmas-gold); transform:translateY(-50%) scale(1.2); }
    
    body.has-announcement { padding-top:0; }
    
    .contact-title { text-align:center; font-family:'Playfair Display',serif; font-size:3.2rem; margin:80px 0 30px 0; color:var(--christmas-green); }
    .contact-section { padding:40px; background:white; border-radius:20px; box-shadow:0 12px 40px rgba(0,0,0,0.12); text-align:center; width:100%; max-width:600px; margin:0 auto; border:3px solid var(--christmas-red); }
    .submit-btn { display:inline-block; padding:18px 40px; background:linear-gradient(135deg, var(--christmas-red), var(--christmas-green)); color:white; border:none; border-radius:10px; font-size:1.1rem; font-weight:bold; cursor:pointer; transition:transform 0.2s, box-shadow 0.3s; text-decoration:none; }
    .submit-btn:hover { transform:scale(1.05); box-shadow:0 8px 25px rgba(196,30,58,0.4); }
    
    footer { background:linear-gradient(135deg, var(--christmas-green), var(--dark)); color:#ffd700; text-align:center; padding:30px; font-size:0.95rem; position:relative; z-index:1; }
    
    /* Padaj√≠c√≠ sn√≠h */
    .snowflake { position:fixed; top:-10px; color:white; font-size:1.5rem; user-select:none; pointer-events:none; z-index:9999; animation:fall linear infinite; opacity:0.9; text-shadow:0 0 8px rgba(255,255,255,0.9); }
    @keyframes fall { to { transform:translateY(100vh) rotate(360deg); } }
    
    /* V√°noƒçn√≠ svƒõt√Ωlka */
    .christmas-light { position:fixed; width:8px; height:8px; border-radius:50%; pointer-events:none; z-index:9998; animation:twinkle 1.5s ease-in-out infinite; }
    @keyframes twinkle { 0%, 100% { opacity:0.3; transform:scale(1); } 50% { opacity:1; transform:scale(1.3); } }
    
    @media (prefers-reduced-motion: reduce) {
      .card, .announcement, .card::before, .garland, .snowflake, .christmas-light { animation:none !important; transition:none; }
      .card:hover { transform:none; }
      .snowflake, .christmas-light { display:none; }
    }
  </style>
</head>
<body class="has-announcement">

  <div id="announcement" class="announcement">
    <button class="close-btn" onclick="document.getElementById('announcement').classList.add('hidden');" aria-label="Zav≈ô√≠t ozn√°men√≠">‚úï</button>
    üéÑ <strong>V√°noƒçn√≠ novinka:</strong> Nov√Ω web je tu! üéÖ
  </div>

  <header>
    <div class="garland"></div>
  </header>

  <main>
    <h2 class="contact-title" style="margin-top: 0;">üéÅ M√°≈° n√°pad? üéÅ</h2>
    <div class="contact-section">
      <p style="margin-bottom: 25px; font-size: 1.1rem; color: var(--dark);">Sd√≠lej s n√°mi sv√© v√°noƒçn√≠ n√°pady! üéÑ</p>
      <a href="https://docs.google.com/forms/d/e/1FAIpQLScbPsW00LGvBiAQKL9O_VjiR15jby58UTqIkpDt3sW4rNRbtA/viewform?usp=sharing&ouid=101182095751355125326" target="_blank" rel="noopener noreferrer" class="submit-btn">P≈ôej√≠t na formul√°≈ô</a>
    </div>

    <h2 style="margin-top: 80px;">üç™ N√°≈° Protokol üç™</h2>
    
    <div id="productList" class="products"></div>
  </main>

  <footer>
    <p>üéÑ ¬© 2025 Super Pek√°rna ‚Äì Vytvo≈ôeno s l√°skou a moukou Haluz√°kem üéÑ</p>
  </footer>

  <script>
    const defaultImage = 'neco_se_nepovedlo.png';

    const products = [
      {
        name: "Rafaelo",
        description: "",
        image: "rafaelo.jpg",
        rating: 5,
        ingredients: "Mouka, Cukr, Kondenzovan√© ml√©ko, Strouhan√Ω kokos, Mandle",
        created: "2025-11-28"
      },
      {
        name: "Pern√≠ƒçky",
        description: "3. Pokus",
        image: "pernicky.webp",
        rating: 5,
        ingredients: "Mouka, Cukr, Vaj√≠ƒçka, Pern√≠ƒçkov√© ko≈ôen√≠, Kakao, Ml√©ko, Kyp≈ô√≠c√≠ pr√°≈°ek",
        created: "2025-11-26"
     },
     {
        name: "Muffiny",
        description: "2. Pokus, ale obr√°zek je z 1. pokusu",
        image: "muffiny.webp",
        rating: 4,
        ingredients: "Mouka, Cukr, Vaj√≠ƒçka, ƒåokol√°da, Kakao",
        created: "2025-11-10"
      },
      {
        name: "Pusinky",
        description: "",
        image: "pusinky.webp",
        rating: 3,
        ingredients: "B√≠lek z vaj√≠ƒçka, Cukr",
        created: "Nezn√°m√©"
     },
     {
        name: "Jableƒçn√Ω kol√°ƒç",
        description: "",
        image: "jablecny_kolac.webp",
        rating: 2,
        ingredients: "Mouka, Vaj√≠ƒçka, Cukr, Jablka a jin√© ovoce",
        created: "Nezn√°m√©"
      },
      {
        name: "Tyramisu",
        description: "2. Pokus",
        image: "",
        rating: 2,
        ingredients: "Ml√©ko, Tvaroh, pi≈°koty, kakao",
        created: "Nezn√°m√©"
      },
      {
        name: "≈†vestkov√Ω kol√°ƒç",
        description: "",
        image: "svestkovy_kolac.webp",
        rating: 3,
        ingredients: "Mouka, Vaj√≠ƒçka, Cukr, ≈†vestky a jin√© ovoce",
        created: "Nezn√°m√©"
      },
      {
        name: "M&M¬¥s Chl√©b",
        description: "",
        image: "mams_chleb.webp",
        rating: 0,
        ingredients: "Mouka, Vaj√≠ƒçka, Cukr, Bonb√≥ny M&M¬¥s",
        created: "Nezn√°m√©"
      }
    ];

    function loadProducts() {
      const list = document.getElementById("productList");
      
      if (!products || products.length === 0) {
        list.innerHTML = '<div class="empty-message"><h3>Zat√≠m zde nen√≠ ≈æ√°dn√© peƒçivo</h3><p>P≈ôidej peƒçivo do pole products v k√≥du!</p></div>';
        return;
      }

      const sortedProducts = [...products].sort((a,b) => new Date(b.created) - new Date(a.created));

      const fragment = document.createDocumentFragment();
      
      sortedProducts.forEach(p => {
        const card = document.createElement('div');
        card.className = 'card';
        
        const imgSrc = p.image || defaultImage;
        
        const dateText = p.created === "Nezn√°m√©" || !p.created || isNaN(new Date(p.created).getTime())
          ? "Nezn√°m√©"
          : new Date(p.created).toLocaleDateString("cs-CZ");
        
        card.innerHTML = `
          <img src="${imgSrc}" alt="${p.name}" loading="lazy">
          <div class="card-content">
            <h3>${p.name}</h3>
            <p>${p.description}</p>
            <div class="rating">${"‚≠ê".repeat(p.rating)}${"‚òÜ".repeat(5-p.rating)}</div>
            <div class="ingredients"><strong>Ingredience:</strong> ${p.ingredients}</div>
            <div class="date">P≈ôid√°no: ${dateText}</div>
          </div>
        `;
        
        fragment.appendChild(card);
      });
      
      list.appendChild(fragment);
    }

    loadProducts();

    // Kontrola prefers-reduced-motion
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    
    if (!prefersReducedMotion) {
      // Padaj√≠c√≠ sn√≠h
      function createSnowflake() {
        const snowflake = document.createElement('div');
        snowflake.className = 'snowflake';
        snowflake.innerHTML = '‚ùÑ';
        snowflake.style.left = Math.random() * 100 + '%';
        snowflake.style.fontSize = (Math.random() * 1.5 + 0.5) + 'rem';
        snowflake.style.animationDuration = (Math.random() * 3 + 5) + 's';
        snowflake.style.opacity = Math.random() * 0.6 + 0.4;
        document.body.appendChild(snowflake);
        
        setTimeout(() => snowflake.remove(), 8000);
      }

      // V√°noƒçn√≠ svƒõt√Ωlka
      function createChristmasLight() {
        const light = document.createElement('div');
        light.className = 'christmas-light';
        const colors = ['#ff0000', '#00ff00', '#ffd700', '#0066ff', '#ff69b4'];
        light.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        light.style.left = Math.random() * 100 + '%';
        light.style.top = Math.random() * 100 + '%';
        light.style.animationDelay = Math.random() * 1.5 + 's';
        light.style.boxShadow = `0 0 10px ${light.style.backgroundColor}`;
        document.body.appendChild(light);
      }

      // Spu≈°tƒõn√≠ animac√≠
      setInterval(createSnowflake, 200);
      for(let i = 0; i < 20; i++) createSnowflake();
      
      for(let i = 0; i < 30; i++) createChristmasLight();
    }
  </script>
</body>
</html>
